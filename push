#!/bin/bash

# Custom push command that updates documentation, daily progress, and pushes to git
# Usage: ./push

echo "ğŸš€ Custom push command - Updating documentation, daily progress, and pushing to git..."

# Update documentation dates and timestamps
if [ -f "scripts/update-docs.sh" ]; then
    echo "ğŸ“… Updating documentation dates..."
    ./scripts/update-docs.sh
else
    echo "âš ï¸  Documentation update script not found, skipping..."
fi

# Update daily progress log
if [ -f "scripts/update-daily-progress.sh" ]; then
    echo "ğŸ“ Updating daily progress log..."
    ./scripts/update-daily-progress.sh
    echo "âœ… Daily progress log updated"
else
    echo "âš ï¸  Daily progress update script not found, skipping..."
fi

# Add all changes to git
echo "ğŸ“ Adding all changes to git..."
git add .

# Commit with current timestamp
CURRENT_TIMESTAMP=$(date "+%d/%m/%Y at %H:%M")
COMMIT_MESSAGE="ğŸ“… Auto-update documentation, daily progress, and push - $CURRENT_TIMESTAMP"

echo "ğŸ’¾ Committing changes..."
git commit -m "$COMMIT_MESSAGE"

# Push to remote repository
echo "ğŸš€ Pushing to remote repository..."
git push

echo "âœ… Push completed successfully!"
echo "ğŸ“… Documentation and daily progress updated and pushed to git"
echo "ğŸ“ Remember to edit DAILY_PROGRESS.md to add your work summary for today!"
